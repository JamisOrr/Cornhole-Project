<!DOCTYPE html>
<html>

<head>
    <title>Game History</title>
</head>

<body>
    <h1>Game History</h1>
    <input type="button" id="home" value="Home" onclick="window.location.href='home.html'">
    <input type="button" id="manage" value="History Management" onclick="window.location.href='historymanagement.html'">
    <h3 id="historyDisplayObject"></h3>
</body>
<script>
    var rawData = localStorage.gh;
    if (rawData != "") {
        const body = document.body,
            tbl = document.createElement('table');
        tbl.style.width = '1000px';
        const data = rawData.split("~");
        for (let i = 0; i < data.length; ++i) {
            var tempData = data[i];
            const tempDataArray = tempData.split("|");
            const tr = tbl.insertRow();
            for (let j = 0; j < tempDataArray.length - 1; ++j) {
                const td = tr.insertCell();
                if (j == 0) {
                    td.appendChild(document.createTextNode(`Game: ${i}`));
                } else if (j == 1) {
                    td.appendChild(document.createTextNode(`${tempDataArray[0]}'s Score: ${tempDataArray[1]}`));
                } else if (j == 2) {
                    td.appendChild(document.createTextNode(`${tempDataArray[2]}'s Score: ${tempDataArray[3]}`));
                } else if (j == 3) {
                    td.appendChild(document.createTextNode(`Date Played: ${tempDataArray[4]}`));
                }
            }
        }
        body.appendChild(tbl);
    } else {
        document.getElementById("historyDisplayObject").innerText = "No Recorded Game History";
    }
</script>

</html>